!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),a=i(r),s=n(3),u=i(s),o=n(4),h=i(o),c=n(7),l=i(c),f=n(8),d=i(f),v=n(9),y=i(v);!function(t){t.Canvas=a["default"],t.Spritesheet=u["default"],t.Sprite=h["default"],t.Phase=l["default"],t.Timer=d["default"],t.Vector=y["default"]}(window)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i,r){n(this,t),this.TO_RADIANS=Math.PI/180,this.width=i,this.height=r,this.canvasId=e,this.canvas=null,this.context=null}return i(t,[{key:"init",value:function(){this.canvas=document.getElementById(this.canvasId),this.context=this.canvas.getContext("2d"),this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px"}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"drawImage",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.context.drawImage.apply(this.context,e)}},{key:"rotate",value:function(t,e,n,i,r,a){this.context.save(),this.context.translate(e,n),this.context.rotate(a*this.TO_RADIANS),this.drawImage(t,-(i/2),-(r/2)),this.context.restore()}},{key:"rotateAnime",value:function(t,e,n,i,r,a,s){this.context.save(),this.context.translate(e+i/2,n+r/2),this.context.rotate(a*this.TO_RADIANS),this.drawImage(t,s[0]*i,s[1]*r,i,r,-(i/2),-(r/2),i,r),this.context.restore()}}]),t}();e["default"]=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r={},a=function(){function t(e,i){var r=i.grid,a=i.width,s=i.height;n(this,t),this.image=new Image,this.image.src=e,this.image.addEventListener("load",function(){}),this.grid=r?r:1,this.width=a?a:32,this.height=s?s:32}return i(t,null,[{key:"getInstance",value:function(e,n){var i=n.grid,a=n.width,s=n.height,u=void 0,o=e+":"+i+":"+a+":"+s;return r[o]?u=r[o]:(u=new t(e,{grid:i,width:a,height:s}),r[o]=u),u}}]),t}();e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return t instanceof h["default"]?this.spritesheet=t:this.load(t),this}function s(t){var e=0;return this.anim.delay++>=this.cadence&&(this.anim.delay=0,this.anim.indexCounter++,this.anim.indexCounter>=t.length&&(this.anim.indexCounter=0),e=this.anim.indexCounter,this.anim.currentFrame=t[e]),this.anim.currentFrame}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),h=i(o),c=n(5),l=i(c),f=n(6),d=function(){function t(e,n){r(this,t),this.spritesheet=null,this.is_pattern=!1,this.pattern=null,this.pattern_x_times=0,this.cadence=n?n:3,this._tmp={},this.anim=new l["default"](0,0,0),this.ctx=null,a.call(this,e)}return u(t,[{key:"load",value:function(t){return this.spritesheet=h["default"].getInstance(t),this}},{key:"draw",value:function(t,e,n,i){var r=[],a=void 0;Number.isInteger(i)?(r=(0,f.indexToXY)(Math.abs(i),this.grid),t.drawImage(this.image,r[0]*this.width,r[1]*this.height,this.width,this.height,e,n,this.width,this.height)):Array.isArray(i)?(a=s.call(this,i),r=(0,f.indexToXY)(Math.abs(a),this.grid),t.drawImage(this.image,r[0]*this.width,r[1]*this.height,this.width,this.height,e,n,this.width,this.height)):t.drawImage(this.image,e,n,this.width,this.height)}},{key:"rot",value:function(t,e,n,i){t.rotate(this.image,e,n,this.width,this.height,i)}},{key:"rotAnim",value:function(t,e,n,i,r){var a=s.call(this,r),u=(0,f.indexToXY)(Math.abs(a),this.grid);t.rotateAnime(this.image,e,n,this.width,this.height,i,u)}},{key:"image",get:function(){return this.spritesheet.image}},{key:"width",get:function(){return this.spritesheet.width}},{key:"grid",get:function(){return this.spritesheet.grid}},{key:"height",get:function(){return this.spritesheet.height}}]),t}();e["default"]=d},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function r(t,e,i){n(this,r),this.delay=t?t:0,this.indexCounter=e?e:0,this.currentFrame=i?i:0};e["default"]=i},function(t,e){"use strict";function n(t,e){var n=t%e,i=Math.floor(t/e);return[n,i]}function i(t,e,n){return e*n+t}Object.defineProperty(e,"__esModule",{value:!0}),e.indexToXY=n,e.XYToIndex=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){n(this,t),this.sPhaseName=e,this.oPhase={},this.oPhaseCurrent=null}return i(t,[{key:"setPhase",value:function(t){this.sPhaseName=t,this.oPhase[this.sPhaseName]&&(this.oPhaseCurrent=this.oPhase[this.sPhaseName])}},{key:"computePhase",value:function(t){return this.oPhase=t,this.setPhase(this.sPhaseName),this}},{key:"run",value:function(){return this.oPhaseCurrent.apply(this,arguments),this}}]),t}();e["default"]=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();var r=function(t){},a=0,s=10,u=!0,o=null,h=null,c=function(){function t(){n(this,t)}return i(t,null,[{key:"setCounter",value:function(e){return h=e,t}},{key:"restart",value:function(){return o=null,t}},{key:"setCadence",value:function(e){return t.restart(),s=e,t}},{key:"run",value:function(e){return r=e,t}},{key:"start",value:function(){u&&requestAnimationFrame(t.start);var e=Date.now(),n=e-a;h&&h.run(e),n>s&&u&&(a=e-n%s,null==o&&(o=a),r.call(null,a-o))}},{key:"play",value:function(){u=!0}},{key:"stop",value:function(){u=!1}},{key:"togglePlay",value:function(){u=!u}}]),t}();e["default"]=c},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i){n(this,t),this.x=e||0,this.y=i||0}return i(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"multi",value:function(t){return this.x*=t,this.y*=t,this}},{key:"div",value:function(t){return this.x/=t,this.y/=t,this}},{key:"setMag",value:function(t){return this.normalize().multi(t)}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return 0===this.mag()?this:this.div(this.mag())}},{key:"copy",value:function(){return new t(this.x,this.y)}}]),t}();e["default"]=r}]);